# æµ‹è¯•æ–‡ä»¶æ¸…ç†æŠ¥å‘Š

## æ¸…ç†æ¦‚è¿°

æœ¬æ¬¡æ¸…ç†æ•´ç†äº†é¡¹ç›®ä¸­æ•£ä¹±çš„æµ‹è¯•æ–‡ä»¶ï¼Œå»ºç«‹äº†è§„èŒƒçš„æµ‹è¯•ç›®å½•ç»“æ„ã€‚

## æ¸…ç†ç»Ÿè®¡

### ç¬¬ä¸€è½®æ¸…ç†
- ğŸ“ ç§»åŠ¨æ–‡ä»¶: 16ä¸ª
- ğŸ—‘ï¸ åˆ é™¤æ–‡ä»¶: 13ä¸ª  
- ğŸ“‹ å¤¹å…·æ–‡ä»¶: 8ä¸ª

### ç¬¬äºŒè½®æ¸…ç†
- ğŸ“ ç§»åŠ¨æ–‡ä»¶: 36ä¸ª
- ğŸ—‘ï¸åˆ é™¤æ–‡ä»¶: 2ä¸ª
- ğŸ“Œ ä¿ç•™æ–‡ä»¶: 0ä¸ª

### æ€»è®¡
- **ç§»åŠ¨æ–‡ä»¶**: 52ä¸ª
- **åˆ é™¤æ–‡ä»¶**: 15ä¸ª
- **æ•´ç†å®Œæˆ**: 100%

## æœ€ç»ˆæµ‹è¯•ç›®å½•ç»“æ„

```
tests/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ README.md                    # æµ‹è¯•æŒ‡å—
â”œâ”€â”€ test_runner.py              # ç»Ÿä¸€æµ‹è¯•è¿è¡Œå™¨
â”œâ”€â”€ test_basic.py               # åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ test_core_components.py     # æ ¸å¿ƒç»„ä»¶æµ‹è¯•
â”œâ”€â”€ test_helpers.py             # è¾…åŠ©å·¥å…·æµ‹è¯•
â”œâ”€â”€ test_integration.py         # åŸºç¡€é›†æˆæµ‹è¯•
â”œâ”€â”€ unit/                       # å•å…ƒæµ‹è¯• (13ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ test_config_manager.py      # é…ç½®ç®¡ç†å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_data_validator.py      # æ•°æ®éªŒè¯å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_universal_processor.py # é€šç”¨å¤„ç†å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_mysql_connection.py    # MySQLè¿æ¥æµ‹è¯•
â”‚   â”œâ”€â”€ test_redis_connection.py    # Redisè¿æ¥æµ‹è¯•
â”‚   â”œâ”€â”€ test_redis_cache.py         # Redisç¼“å­˜æµ‹è¯•
â”‚   â”œâ”€â”€ test_env_loading.py         # ç¯å¢ƒåŠ è½½æµ‹è¯•
â”‚   â”œâ”€â”€ test_error_handling.py      # é”™è¯¯å¤„ç†æµ‹è¯•
â”‚   â”œâ”€â”€ test_client_implementation.py # å®¢æˆ·ç«¯å®ç°æµ‹è¯•
â”‚   â”œâ”€â”€ test_config_system.py       # é…ç½®ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ test_validation.py          # éªŒè¯ç»„ä»¶æµ‹è¯•
â”‚   â””â”€â”€ test_protocol_components.py # åè®®ç»„ä»¶æµ‹è¯•
â”œâ”€â”€ integration/                # é›†æˆæµ‹è¯• (19ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ test_1101_interface.py      # 1101æ¥å£æµ‹è¯•
â”‚   â”œâ”€â”€ test_2201_interface.py      # 2201æ¥å£æµ‹è¯•
â”‚   â”œâ”€â”€ test_interface_1101_person_info.py  # 1101è¯¦ç»†æµ‹è¯•
â”‚   â”œâ”€â”€ test_interface_2201_settlement.py   # 2201è¯¦ç»†æµ‹è¯•
â”‚   â”œâ”€â”€ test_async_processing.py    # å¼‚æ­¥å¤„ç†æµ‹è¯•
â”‚   â”œâ”€â”€ test_async_tasks.py         # å¼‚æ­¥ä»»åŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ test_new_interfaces.py      # æ–°æ¥å£æµ‹è¯•
â”‚   â”œâ”€â”€ test_separate_interfaces.py # åˆ†ç¦»æ¥å£æµ‹è¯•
â”‚   â”œâ”€â”€ test_apifox_integration.py  # Apifoxé›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_his_integration*.py    # HISç³»ç»Ÿé›†æˆæµ‹è¯• (5ä¸ª)
â”‚   â””â”€â”€ test_sdk_*.py              # SDKé›†æˆæµ‹è¯• (3ä¸ª)
â”œâ”€â”€ performance/                # æ€§èƒ½æµ‹è¯• (10ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ test_performance_stress.py  # å‹åŠ›æµ‹è¯•
â”‚   â”œâ”€â”€ test_metrics_collector.py   # æŒ‡æ ‡æ”¶é›†æµ‹è¯•
â”‚   â”œâ”€â”€ test_connection_pool*.py    # è¿æ¥æ± æµ‹è¯• (3ä¸ª)
â”‚   â”œâ”€â”€ test_data_*_comprehensive.py # æ•°æ®å¤„ç†æ€§èƒ½æµ‹è¯• (2ä¸ª)
â”‚   â”œâ”€â”€ run_stress_tests.py        # å‹åŠ›æµ‹è¯•è¿è¡Œå™¨
â”‚   â””â”€â”€ simple_stress_test.py      # ç®€å•å‹åŠ›æµ‹è¯•
â””â”€â”€ fixtures/                   # æµ‹è¯•æ•°æ®å’Œå·¥å…· (17ä¸ªæ–‡ä»¶)
    â”œâ”€â”€ insert_test_*.py           # æµ‹è¯•æ•°æ®æ’å…¥è„šæœ¬
    â”œâ”€â”€ check_*.py                 # æ•°æ®æ£€æŸ¥è„šæœ¬
    â”œâ”€â”€ verify_*.py                # éªŒè¯è„šæœ¬
    â”œâ”€â”€ test_logging_monitoring*.py # æ—¥å¿—ç›‘æ§æµ‹è¯•å·¥å…·
    â”œâ”€â”€ test_*_status.py           # çŠ¶æ€æ£€æŸ¥å·¥å…·
    â””â”€â”€ apifox_*.json/js           # Apifoxé…ç½®æ–‡ä»¶
```

## æ–‡ä»¶åˆ†ç±»è¯´æ˜

### å•å…ƒæµ‹è¯• (tests/unit/)
æµ‹è¯•å•ä¸ªç»„ä»¶çš„åŠŸèƒ½ï¼Œä¸ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼š
- æ•°æ®åº“è¿æ¥æµ‹è¯•
- Redisç¼“å­˜æµ‹è¯•
- é…ç½®ç®¡ç†æµ‹è¯•
- æ•°æ®éªŒè¯æµ‹è¯•
- é”™è¯¯å¤„ç†æµ‹è¯•

### é›†æˆæµ‹è¯• (tests/integration/)
æµ‹è¯•ç»„ä»¶é—´çš„åä½œå’Œå®Œæ•´æµç¨‹ï¼š
- åŒ»ä¿æ¥å£è°ƒç”¨æµ‹è¯•
- å¼‚æ­¥å¤„ç†é›†æˆæµ‹è¯•
- HISç³»ç»Ÿé›†æˆæµ‹è¯•
- Apifox Mocké›†æˆæµ‹è¯•

### æ€§èƒ½æµ‹è¯• (tests/performance/)
æµ‹è¯•ç³»ç»Ÿæ€§èƒ½å’Œå¹¶å‘èƒ½åŠ›ï¼š
- å‹åŠ›æµ‹è¯•å’Œè´Ÿè½½æµ‹è¯•
- è¿æ¥æ± æ€§èƒ½æµ‹è¯•
- æ•°æ®å¤„ç†æ€§èƒ½æµ‹è¯•
- æŒ‡æ ‡æ”¶é›†å’Œç›‘æ§æµ‹è¯•

### æµ‹è¯•å·¥å…· (tests/fixtures/)
æµ‹è¯•ç›¸å…³çš„æ•°æ®ã€é…ç½®å’Œå·¥å…·ï¼š
- æµ‹è¯•æ•°æ®æ’å…¥å’Œåˆå§‹åŒ–è„šæœ¬
- æ•°æ®éªŒè¯å’Œæ£€æŸ¥å·¥å…·
- é…ç½®æ–‡ä»¶å’ŒMockæ•°æ®
- ç›‘æ§å’ŒçŠ¶æ€æ£€æŸ¥å·¥å…·

## æ¸…ç†åçš„ä¼˜åŠ¿

### 1. ç»“æ„æ¸…æ™°
- æŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡æµ‹è¯•æ–‡ä»¶
- æ˜“äºæŸ¥æ‰¾å’Œç»´æŠ¤
- ç¬¦åˆæµ‹è¯•æœ€ä½³å®è·µ

### 2. è¿è¡Œé«˜æ•ˆ
- å¯ä»¥æŒ‰ç±»å‹è¿è¡Œæµ‹è¯•
- æ”¯æŒå¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
- å‡å°‘æµ‹è¯•é—´çš„ç›¸äº’å½±å“

### 3. ç»´æŠ¤ç®€å•
- ç»Ÿä¸€çš„æµ‹è¯•è¿è¡Œå™¨
- æ ‡å‡†åŒ–çš„æµ‹è¯•ç»“æ„
- å®Œå–„çš„æ–‡æ¡£è¯´æ˜

## ä½¿ç”¨æŒ‡å—

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python tests/test_runner.py

# è¿è¡Œç‰¹å®šç±»å‹æµ‹è¯•
python tests/test_runner.py --unit
python tests/test_runner.py --integration
python tests/test_runner.py --performance

# è¿è¡Œå¿«é€Ÿæµ‹è¯•
python tests/test_runner.py --quick

# åˆ—å‡ºæ‰€æœ‰æµ‹è¯•
python tests/test_runner.py --list
```

### æ·»åŠ æ–°æµ‹è¯•
1. é€‰æ‹©åˆé€‚çš„æµ‹è¯•ç±»åˆ« (unit/integration/performance)
2. éµå¾ªå‘½åè§„èŒƒ (test_*.py)
3. ä½¿ç”¨ç»Ÿä¸€çš„æµ‹è¯•æ¡†æ¶ (pytest)
4. æ·»åŠ é€‚å½“çš„æ–‡æ¡£å’Œæ³¨é‡Š

## é¡¹ç›®æ ¹ç›®å½•çŠ¶æ€

æ¸…ç†åçš„é¡¹ç›®æ ¹ç›®å½•ç°åœ¨åªåŒ…å«å¿…è¦çš„é…ç½®æ–‡ä»¶ï¼š
- âœ… æ— æµ‹è¯•æ–‡ä»¶æ•£ä¹±
- âœ… ç»“æ„æ¸…æ™°æ•´æ´
- âœ… æ˜“äºç»´æŠ¤ç®¡ç†

## ä¸‹ä¸€æ­¥å»ºè®®

1. **è¿è¡Œæµ‹è¯•éªŒè¯**: ç¡®ä¿æ‰€æœ‰ç§»åŠ¨çš„æµ‹è¯•æ–‡ä»¶ä»èƒ½æ­£å¸¸è¿è¡Œ
2. **æ›´æ–°CI/CD**: æ›´æ–°æŒç»­é›†æˆé…ç½®ä»¥ä½¿ç”¨æ–°çš„æµ‹è¯•ç»“æ„
3. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°é¡¹ç›®æ–‡æ¡£ä»¥åæ˜ æ–°çš„æµ‹è¯•ç»„ç»‡æ–¹å¼
4. **å›¢é˜ŸåŸ¹è®­**: å‘å›¢é˜Ÿæˆå‘˜ä»‹ç»æ–°çš„æµ‹è¯•ç»“æ„å’Œè¿è¡Œæ–¹å¼

---

*æ¸…ç†å®Œæˆæ—¶é—´: 2025-07-25*  
*æ¸…ç†å·¥å…·: scripts/cleanup_tests.py, scripts/cleanup_remaining_tests.py*